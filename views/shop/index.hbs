{{# each products}}
<div class="row">
{{# each this}}
<div class="card" style="width: 18rem;">
  <img class="card-img-top" src="{{this.imagePath}}" alt="Card image cap">
  <div class="card-body">
    <h5 class="card-title">{{this.title }}</h5>
    <p class="card-text">Kshs. {{this.price}}</p>
    <a href="#" class="btn btn-primary">View</a> <a href="/add-to-cart/{{this._id}}" class="btn btn-success addtocart" data-id="{{this.id}}">Add to cart</a>
  </div>
</div>
{{/each}}
</div>
{{/each}}
{{!-- 
<script>
  $(document).ready(function(){

    let links = Array.from(document.querySelectorAll('a.addtocart'))
    links.forEach(function(link){
      link.addEventListener('click',function(e){
        e.preventDefault();
        let linkId = this.getAttribute('data-id');
        
        $.ajax({
          type:'GET',
          url:'/add-to-cart/'+linkId,
          dataType:'application/json',
          success:function(response){
            console.log(response);
          }

        });
        
      });
    });
  });
</script> --}}



 

